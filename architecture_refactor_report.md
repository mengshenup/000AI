# æ¶æ„é‡æ„ä¸åˆ†å¸ƒå¼è®¡ç®—æŠ¥å‘Š (Architecture Refactor & Distributed Computing Report)

## 1. æ ¸å¿ƒç›®æ ‡
æ„å»ºæ”¯æŒ **1äº¿ç”¨æˆ·** çš„åˆ†å¸ƒå¼æ¶æ„ï¼Œæœ€å¤§åŒ–åˆ©ç”¨ç”¨æˆ·ç«¯è®¡ç®—èµ„æºï¼Œæœ€å°åŒ–æœåŠ¡ç«¯æˆæœ¬ã€‚

## 2. æœåŠ¡å™¨æ•ˆç‡ä¸è¯­è¨€é€‰æ‹©åˆ†æ
**é—®é¢˜**: Python æ˜¯æœ€ä½³æœåŠ¡å™¨æ•ˆç‡å’Œæœ€çœè®¡ç®—é‡èµ„æºçš„å—ï¼Ÿ
**ç»“è®º**: 
- **å¯¹äº AI/æ™ºèƒ½ä½“é€»è¾‘ (Agent Logic)**: **æ˜¯**ã€‚Python æ‹¥æœ‰æœ€ä¸°å¯Œçš„ AI ç”Ÿæ€ (PyTorch, TensorFlow, LangChain)ï¼Œæ˜¯æ„å»ºæ™ºèƒ½ä½“å¤§è„‘çš„é¦–é€‰ã€‚
- **å¯¹äº é«˜å¹¶å‘ Web æœåŠ¡ (High Concurrency Web Server)**: **ä¸æ˜¯**ã€‚Go, Rust, æˆ– Node.js åœ¨å¤„ç†æµ·é‡å¹¶å‘è¿æ¥ï¼ˆå¦‚ 1äº¿ç”¨æˆ·ï¼‰æ—¶é€šå¸¸æ¯” Python (å³ä½¿æ˜¯ FastAPI) æ›´é«˜æ•ˆï¼Œå†…å­˜å ç”¨æ›´ä½ã€‚
- **æœ€ä½³æ–¹æ¡ˆ**: **æ··åˆæ¶æ„**ã€‚
    - **æ™ºèƒ½ä½“ (Agent)**: ä½¿ç”¨ Python (åœ¨å®¢æˆ·ç«¯è¿è¡Œï¼Œåˆ©ç”¨ç”¨æˆ·ç®—åŠ›)ã€‚
    - **æœåŠ¡ç«¯ (Server)**: ä½¿ç”¨è½»é‡çº§ Python (FastAPI) æˆ–æœªæ¥è¿ç§»è‡³ Go/Rustï¼Œä»…è´Ÿè´£ä¿¡ä»¤äº¤æ¢ã€é‰´æƒå’Œé™æ€èµ„æºåˆ†å‘ã€‚

## 3. åˆ†å¸ƒå¼æ¶æ„æ–¹æ¡ˆ (Distributed Architecture)
ä¸ºäº†æœåŠ¡ 1äº¿ç”¨æˆ·ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨ä¸­å¿ƒæœåŠ¡å™¨ä¸Šè¿è¡Œ 1äº¿ä¸ªæ™ºèƒ½ä½“å¤§è„‘ã€‚å¿…é¡»é‡‡ç”¨ **è¾¹ç¼˜è®¡ç®— (Edge Computing)** ç­–ç•¥ã€‚

### ğŸ“‚ ç›®å½•ç»“æ„é‡ç»„æ–¹æ¡ˆ

#### A. ç½‘ç«™å®¢æˆ·ç«¯ (Web_Client) - [é«˜è®¡ç®—é‡]
*è¿è¡Œåœ¨ç”¨æˆ·è®¾å¤‡ä¸Š (User's Device)*
- **åŒ…å«å†…å®¹**: 
    - åŸ `Angel_Client` çš„æ‰€æœ‰å‰ç«¯ä»£ç  (HTML/JS/CSS/Three.js)ã€‚
    - åŸ `Angel_Server` ä¸­çš„ **é«˜è®¡ç®—é‡** Python æ¨¡å—:
        - `Brain/` (å¤§è„‘: æ€è€ƒä¸å†³ç­–)
        - `Body/` (èº«ä½“: æµè§ˆå™¨æ§åˆ¶/Playwright)
        - `Eye/` (çœ¼ç›: è§†è§‰è¯†åˆ«/æˆªå›¾)
        - `Hand/` (æ‰‹: é¼ æ ‡é”®ç›˜æ“ä½œ)
- **èŒè´£**: è´Ÿè´£æ‰€æœ‰çš„ AI æ¨ç†ã€æ¸²æŸ“ã€æµè§ˆå™¨è‡ªåŠ¨åŒ–æ“ä½œã€‚
- **ä¼˜åŠ¿**: è®¡ç®—æˆæœ¬ç”±ç”¨æˆ·æ‰¿æ‹…ï¼ŒæœåŠ¡å™¨é›¶å‹åŠ›ã€‚

#### B. ç½‘ç«™æœåŠ¡ç«¯ (Web_Server) - [ä½è®¡ç®—é‡]
*è¿è¡Œåœ¨äº‘ç«¯ (Cloud Server)*
- **åŒ…å«å†…å®¹**:
    - åŸ `Angel_Server` ä¸­çš„ **ä½è®¡ç®—é‡** Python æ¨¡å—:
        - `Nerve/` (ç¥ç»: API è·¯ç”±, WebSocket ä¿¡ä»¤)
        - `Memory/` (éƒ¨åˆ†: ç”¨æˆ·é…ç½®åŒæ­¥ï¼Œä½†ä¸»è¦æ•°æ®åº”åœ¨æœ¬åœ°)
- **èŒè´£**: 
    - é™æ€æ–‡ä»¶æ‰˜ç®¡ (åˆ†å‘ Web_Client)ã€‚
    - ç”¨æˆ·é‰´æƒ (Login/Auth)ã€‚
    - å¤šç«¯åŒæ­¥ (Sync)ã€‚
- **ä¼˜åŠ¿**: æè½»é‡ï¼Œå•æœºå¯æŠ—é«˜å¹¶å‘ï¼Œæ˜“äºæ¨ªå‘æ‰©å±•ã€‚

#### C. æ™ºèƒ½ä½“å¤©ä½¿æœåŠ¡å™¨ (Agent_Angel_Server)
*ç”¨äºæ™ºèƒ½ä½“éƒ¨ç½²ä¸ç¼–æ’*
- **åŒ…å«å†…å®¹**: 
    - Dockerfile, K8s é…ç½®ã€‚
    - æ ¸å¿ƒæ™ºèƒ½ä½“æ¨¡å‹çš„è®­ç»ƒ/å¾®è°ƒä»£ç  (å¦‚æœéœ€è¦)ã€‚
    - åŸå§‹çš„ `Angel_Server` ç»“æ„å¤‡ä»½ (ä½œä¸ºå¼€å‘æ¯ç‰ˆ)ã€‚

## 4. æ‰§è¡Œè®¡åˆ’
1.  **é‡å‘½å**: `Angel_Client` -> `Web_Client`ã€‚
2.  **é‡å‘½å**: `Angel_Server` -> `Agent_Angel_Server`ã€‚
3.  **åˆ›å»º**: `Web_Server` ç›®å½•ã€‚
4.  **è¿ç§»**: 
    - å°† `Agent_Angel_Server` ä¸­çš„ `Brain`, `Body`, `Eye`, `Hand` å¤åˆ¶/ç§»åŠ¨åˆ° `Web_Client/Client_Core`ã€‚
    - å°† `Agent_Angel_Server` ä¸­çš„ `Nerve` å¤åˆ¶/ç§»åŠ¨åˆ° `Web_Server`ã€‚
5.  **é‡æ„**: ä¿®æ”¹å¯¼å…¥è·¯å¾„ï¼Œç¡®ä¿ `Web_Client` å¯ä»¥ç‹¬ç«‹è¿è¡Œæœ¬åœ° Python åç«¯ã€‚

---
**æ‰§è¡ŒçŠ¶æ€**: å‡†å¤‡å¼€å§‹æ‰§è¡Œé‡æ„ã€‚
