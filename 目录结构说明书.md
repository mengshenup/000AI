目录结构说明书
│
├── 🔴 Angel_Server/ .................... 【服务端 / 后端】 (Python 大脑)
│   │   [核心功能：逻辑计算、AI计费、浏览器控制、WebSocket服务]
│   │
│   ├── routers/ ........................ [路由层]
│   │   ├── __init__.py ................. (标识文件)
│   │   └── websocket_handler.py ........ 处理 ws:// 协议，负责收发指令
│   │
│   ├── services/ ....................... [业务层]
│   │   ├── __init__.py ................. (标识文件)
│   │   ├── agent.py .................... 🤖 [AI] Gemini 视频分析服务
│   │   ├── billing.py .................. 计费逻辑 (算钱)
│   │   └── browser.py .................. 浏览器逻辑 (Playwright 控制)
│   │
│   ├── user_data/ ...................... 📁 [缓存] (运行时自动生成，无需手动创建)
│   │
│   ├── .env ............................ 🔐 [密钥] 存放 API Key 等敏感信息 (需手动创建)
│   ├── API配置指南.md .................. 📖 [文档] Gemini API 申请与配置教程
│   ├── config.py ....................... ⚙️ [配置] 定价表、常量设置
│   ├── main.py ......................... 🧠 [应用] FastAPI APP 定义 (核心业务逻辑)
│   ├── run.py .......................... 🚀 [启动] 独立启动器 (负责环境配置与热更新)
│   ├── requirements.txt ................ 📦 [依赖] 库清单 (fastapi, playwright...)
│   ├── setup.bat ....................... 🛠️ [安装] 环境安装脚本 (只运行一次)
│   └── start_server.bat ................ ▶️ [脚本] 调用 run.py 启动 8000 端口
│
├── 注释说明书.md ................... 📖 [文档] 代码注释规范
├── 说明书.txt ...................... 📖 [文档] 项目总体说明
│
└── 🟢 Angel_Client/ .................... 【客户端 / 前端】 (网页 / 界面)
    │   [核心功能：界面展示、3D渲染、用户交互、发送指令]
    │
    ├── assets/ ......................... 🎨 [资源库]
    │   ├── three.min.js ................ 3D 引擎库
    │   ├── wp-0.avif ................... 壁纸图片
    │   └── ...
    │
    ├── css/ ............................ 💅 [样式]
    │   └── style.css ................... (配合 JS 动态调整)
    │
    ├── js/ ............................. 🧠 [逻辑模块] (ES Modules)
    │   ├── apps/ ....................... 📱 [应用] 独立 App 逻辑
    │   │   └── intelligence.js ......... 📍 情报站逻辑
    │   ├── event_bus.js ................ 🆕 [核心] 事件总线 (负责模块间通信)
    │   ├── config.js ................... ⚙️ [配置] 静态数据
    │   ├── store.js .................... 💾 [存储] LocalStorage 管理
    │   ├── network.js .................. 📡 [网络] WebSocket 封装
    │   ├── angel.js .................... 🧚 [3D] 小天使渲染
    │   ├── window_manager.js ........... 🪟 [窗口] 窗口系统 & 拖拽逻辑
    │   └── main.js ..................... 🚀 [入口] 启动与组装
    │
    ├── index.html ...................... 🖥️ [网页] 极简的 HTML 骨架
    └── start_client.bat ................ 🚀 [启动] 开启 5500 端口并弹出浏览器

⚡️ 架构说明书
🔴 Angel_Server (后端)
身份：系统的“大脑”和“手脚”。
运行环境：Python (控制台黑框)。
端口：占用 8000。
职责：
它看不到网页长什么样。
它只负责干活：去抖音搜索、截图、计算费用。
它通过 WebSocket (像电话线一样) 等待前端发号施令。
启动机制变动：
main.py 只负责定义 API 逻辑。
run.py 负责设置底层异步策略 (兼容 Windows) 并启动服务器。
start_server.bat 实际上是运行 python run.py。
🟢 Angel_Client (前端)
身份：系统的“脸面”和“遥控器”。
运行环境：浏览器 (Chrome/Edge)。
端口：占用 5500 (由 start_client.bat 临时创建)。
职责：
负责画出窗口、3D小天使、任务栏。
用户点击按钮时，它通过 network.js 给后端发消息。
注意：因为用了 JS 模块化技术，必须用 start_client.bat 启动，不能直接双击 index.html。
🚀 正确启动顺序
先双击 Angel_Server/start_server.bat
(等待显示 "Uvicorn running on ... 8000")
再双击 Angel_Client/start_client.bat
(浏览器自动弹出，系统连接成功！)