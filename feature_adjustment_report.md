# 🛠️ 功能调整报告 (Feature Adjustment Report)

## 1. 🚫 禁用客户端数据库同步 (Disable Client DB Sync)

**操作**:
在 `Angel_Client/js/store.js` 中，注释掉了 `constructor` 中的 `this.syncFromClientDB()` 调用。

**影响**:
*   **启动时**: 客户端启动时将**不再**从服务器（即 `window_memory.json`）读取之前的窗口布局。
*   **结果**: 每次刷新页面，所有窗口都会重置为默认位置和状态。
*   **注意**: 虽然不再读取，但 `save()` 方法仍然开启。这意味着如果您移动窗口，新的位置**仍然会被写入**到 `window_memory.json` 文件中，只是下次启动时不会去读它（除非您重新启用该功能）。

## 2. 🔍 服务器索引逻辑说明 (Server Indexing Logic Explanation)

您询问：“为什么服务器会直接索引客户端文件夹？”

**原因**:
目前服务器代码 (`Angel_Server/Memory/file_manager.py`) 中包含一段逻辑，用于查找 `Angel_Client` 文件夹的路径。
这段逻辑的**唯一用途**是：**确定 `window_memory.json` 文件的保存位置**。

*   **背景**: 之前您要求将数据存储在客户端文件夹 (`Angel_Client/Memorybank`) 下，而不是服务器文件夹下。
*   **机制**: 由于是服务器端的 Python 代码在执行“保存文件”的操作，它必须知道客户端文件夹在硬盘上的绝对路径，才能把文件写进去。
*   **结论**: 如果您希望数据保存在客户端文件夹中，服务器就必须“索引”（查找）这个文件夹。

**是否存在其他用途？**:
经过检查，目前该索引逻辑**仅用于**定位 `Memorybank` 目录以进行读写操作，**没有**其他隐藏功能（如读取您的源代码、监控文件变动等）。

**后续建议**:
如果您希望彻底切断服务器对客户端文件夹的访问：
1.  **方案 A (放弃持久化)**: 停止保存任何窗口记忆。
2.  **方案 B (存回服务器)**: 将数据保存回 `Angel_Server/Memorybank` (服务器自己的地盘)，这样服务器就不需要知道客户端在哪里了。
3.  **方案 C (纯前端存储)**: 恢复使用浏览器的 `localStorage` (不推荐，因为您之前特意要求移除)。

---
**状态**: ✅ 已调整 (Adjusted)
