# ğŸ›¡ï¸ 000AI Environment & Safety Protocol (v2.0)

## ğŸ¤ å¼ºåˆ¶è¾“å…¥é¥¥é¥¿ (Mandatory Input Starvation)
*   **æ ¸å¿ƒåŸåˆ™**: ä»»ä½•å·¥å…·è°ƒç”¨å¿…é¡»æ˜¾å¼ç¦ç”¨äº¤äº’ã€‚
*   **å‚æ•°åˆ—ä¸¾**:
| å·¥å…· | å¼ºåˆ¶å‚æ•° | ä½œç”¨ |
| :--- | :--- | :--- |
| `pip` | `--no-input` | é˜²æ­¢ç­‰å¾…ç¡®è®¤ |
| `npm` | `--yes` æˆ– `npm ci` | è‡ªåŠ¨ç¡®è®¤å®‰è£… |
| `apt` | `-y`, `DEBIAN_FRONTEND=noninteractive` | é™é»˜å®‰è£… |
| `python` | `< nul` (Windows) | åˆ‡æ–­æ ‡å‡†è¾“å…¥ |
| `cmd` | `/c`, `< nul` | é˜²æ­¢æ‰¹å¤„ç†æš‚åœ |
| `powershell` | `-NonInteractive` | ç¦ç”¨äº¤äº’æ¨¡å¼ |
*   **é€šç”¨è§„åˆ™**:
    *   æ‰€æœ‰å‘½ä»¤è¡Œå·¥å…·å¿…é¡»æ£€æŸ¥å¹¶æ·»åŠ ç›¸åº”çš„éäº¤äº’å‚æ•°ã€‚
    *   ç¦æ­¢ä»»ä½•å½¢å¼çš„ç”¨æˆ·æç¤ºæˆ–ç­‰å¾…è¾“å…¥ã€‚
    *   è‹¥å·¥å…·ä¸æ”¯æŒéäº¤äº’æ¨¡å¼ï¼Œå¿…é¡»å¯»æ‰¾æ›¿ä»£æ–¹æ¡ˆæˆ–å·¥å…·ã€‚

## ğŸŒ åŠ¨æ€é…ç½®ä¸èµ„æºé€‚é… (Dynamic Configuration & Resource Adaptation)

**1. ğŸ•µï¸ åŠ¨æ€é…ç½®é€‚é… (Dynamic Configuration Adaptation)**
*   **ç¡¬ä»¶ç”»åƒ (Hardware Profiling)**:
    *   **å¯åŠ¨åŠ¨ä½œ**: å¿…é¡»é¦–å…ˆè¯»å– CPU (æ ¸å¿ƒæ•°/æ¶æ„), RAM (å¯ç”¨/æ€»), GPU (æ˜¾å­˜/å‹å·), OS (ç‰ˆæœ¬/Serveræ ‡å¿—)ã€‚
    *   **è®°å½•**: å°†ç”»åƒå†™å…¥ `C:\000AI\Debug\<ProjectName>\Host_Profile.json`ã€‚
*   **ç­–ç•¥åŒ¹é… (Strategy Matching)**:
    *   **Low Profile (<4GB RAM / <4 Cores)**: å¯ç”¨ `Low_Resource_Mode` (ä¸²è¡Œç¼–è¯‘ `-j1`, é™æ€é“¾æ¥, æœ€å°åŒ–ä¾èµ–, ç¦ç”¨å¹¶è¡Œä¸‹è½½)ã€‚
    *   **High Profile (>16GB RAM)**: å¯ç”¨ `Performance_Mode` (å¹¶è¡Œç¼–è¯‘, é¢„åŠ è½½)ã€‚
    *   **Server Profile**: å¯ç”¨ `Server_Mode` (æ— å¤´æ¨¡å¼, æœåŠ¡åŒ–è¿è¡Œ, ç»•è¿‡åº”ç”¨å•†åº—)ã€‚
*   **å…¼å®¹æ€§å›é€€ (Compatibility Fallback)**:
    *   è‹¥æ£€æµ‹åˆ°ä¸æ”¯æŒçš„æŒ‡ä»¤é›† (å¦‚ AVX2) æˆ– OS ç‰¹æ€§ (å¦‚ WSL2)ï¼Œè‡ªåŠ¨é™çº§è‡³å…¼å®¹æ¨¡å¼ (å¦‚ WSL1, çº¯ Windows ç¼–è¯‘)ã€‚
    *   é…ç½®å¿…é¡»åŒ…å« `compatibility_flags` å­—æ®µã€‚

**2. ğŸ“¦ ä¾èµ–è‡ªæ²»ä¸æ„å»º (Dependency Autonomy & Build)**
*   **åŠ¨æ€æ„å»º (Dynamic Build)**:
    *   æ ¹æ® **ç¡¬ä»¶ç”»åƒ** åŠ¨æ€è°ƒæ•´ç¼–è¯‘å‚æ•° (å¦‚ `Cargo.toml` ä¾èµ–ç‰ˆæœ¬, `g++` ä¼˜åŒ–æ ‡å¿—)ã€‚
    *   ä¸¥ç¦åœ¨ä½é…æœºå™¨ä¸Šç¡¬ç¼–ç é«˜æ€§èƒ½å‚æ•°ã€‚
*   **æœ¬åœ°ä¼˜å…ˆ (Local First)**:
    *   æ£€æŸ¥ `C:\000AI\Debug\<ProjectName>\Trash\` æ˜¯å¦å­˜åœ¨ä¾èµ–åŒ…ç¼“å­˜ã€‚
    *   æ„å»ºäº§ç‰©å¿…é¡»é€‚é…å½“å‰ç¯å¢ƒ (ä¸è¦åœ¨ Windows ä¸Šç”Ÿæˆ Linux æ— æ³•è¿è¡Œçš„è·¯å¾„)ã€‚
*   **é›¶é¢„è®¾ (Zero Assumption)**:
    *   å‡è®¾ç›®æ ‡æœºå™¨æ˜¯è£¸æœº (Vanilla OS)ã€‚
    *   ä¸¥ç¦å‡è®¾ `winget`, `store`, `wsl` å­˜åœ¨ï¼Œå¿…é¡»æä¾› `curl`/`powershell` å›é€€æ–¹æ¡ˆã€‚

## ğŸ› ï¸ å·¥å…·é“¾ (Toolchain)

**1. éªŒè¯å·¥å…·**
*   **ä½ç½®**: `C:\000AI\.github\tools`
*   **validate_annotation.py**: 
    *   **å¼ºåˆ¶æ€§**: å¿…é¡»åœ¨ Protocol 20 çš„ Step 6 (Annotation) ä¸­è°ƒç”¨ã€‚
    *   **ä½œç”¨**: è‡ªåŠ¨æ£€æŸ¥ä»£ç æ³¨é‡Šè¦†ç›–ç‡ (100% Line Coverage)ã€‚
    *   **å¤±è´¥åæœ**: è‹¥éªŒè¯å¤±è´¥ï¼Œä»»åŠ¡ä¸å¾—è¿›å…¥ Step 7 (Conclusion)ã€‚
    *   **è‡ªç»´æŠ¤ (Self-Healing)**: è‹¥å·¥å…·å­˜åœ¨é€»è¾‘ç¼ºé™·ï¼ŒAgent å¿…é¡»è‡ªè¡Œä¿®å¤å¹¶è¿­ä»£è¯¥å·¥å…·ã€‚
    *   **Final Gatekeeper**: å®ƒæ˜¯é˜²æ­¢â€œä¸Šä¸‹æ–‡é—å¿˜â€çš„æœ€ç»ˆé˜²çº¿ã€‚æ— è®ºä½ è®¤ä¸ºä»£ç å¤šä¹ˆå®Œç¾ï¼Œå¿…é¡»ç”±è¯¥å·¥å…·ç­¾å­—æ”¾è¡Œã€‚

## ğŸ›¡ï¸ æ–‡ä»¶ç”Ÿå‘½å‘¨æœŸåè®® (File Lifecycle Protocol)

**1. ğŸ“‚ ç›®å½•ç»“æ„è§„èŒƒ (Directory Structure Standards)**
*   **æ ¹ç›®å½•**: `C:\000AI\Debug\<ProjectName>\`
*   **æ‰å¹³åŒ–åŸåˆ™**: å­æ–‡ä»¶å¤¹ä¸‹ä¸¥ç¦åˆ›å»ºå­å­æ–‡ä»¶å¤¹ (å¦‚ `Logs\20251129\`)ï¼Œæ‰€æœ‰æ–‡ä»¶ç›´æ¥å­˜æ”¾åœ¨å¯¹åº”åˆ†ç±»æ–‡ä»¶å¤¹ä¸­ã€‚
*   **æ ‡å‡†åˆ†ç±»**:
    *   `test_code\` (æµ‹è¯•ä»£ç /ç¨‹åº)
    *   `Trash\` (ä¸´æ—¶åºŸå¼ƒç‰©)
    *   `no_code\` (ç¯å¢ƒ/ä¾èµ–/å®‰è£…åŒ…)
    *   `Logs\` (è¿è¡Œæ—¥å¿—)
    *   `Memory\` (é•¿æœŸè®°å¿†/ä¸Šä¸‹æ–‡)
    *   `State\` (ä»»åŠ¡çŠ¶æ€/é˜Ÿåˆ—/å¿«ç…§)
    *   `Reports\` (äº¤ä»˜æŠ¥å‘Š)
    *   `\` (æ¸…å•)

**2. ğŸ—ï¸ åˆ›å»ºè§„èŒƒ (Creation Protocol)**
*   **å¼ºåˆ¶è·¯å¾„**:
    *   æµ‹è¯•ä»£ç /ç¨‹åº -> `C:\000AI\Debug\<ProjectName>\test_code\`
    *   ä¸´æ—¶åºŸå¼ƒç‰© -> `C:\000AI\Debug\<ProjectName>\Trash\`
    *   ç¯å¢ƒ/ä¾èµ– -> `C:\000AI\Debug\<ProjectName>\no_code\`
    *   è¿è¡Œæ—¥å¿— -> `C:\000AI\Debug\<ProjectName>\Logs\`
    *   é•¿æœŸè®°å¿† -> `C:\000AI\Debug\<ProjectName>\Memory\`
    *   ä»»åŠ¡çŠ¶æ€ -> `C:\000AI\Debug\<ProjectName>\State\`
    *   æŠ¥å‘Šæ–‡æ¡£ -> `C:\000AI\Debug\<ProjectName>\Reports\`
*   **æ¸…å•ç™»è®°**:
    *   åˆ›å»ºæ–‡ä»¶æ—¶ï¼Œå¿…é¡»ç«‹å³å†™å…¥ `C:\000AI\Debug\<ProjectName>\Resource_Manifest.json`ã€‚
    *   æ ¼å¼: `{"path": "...", "type": "test_code", "created_at": "...", "status": "active"}`ã€‚
*   **ä¸¥ç¦**:
    *   åœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆæ–‡ä»¶ã€‚
    *   åˆ›å»ºä»»ä½•å½¢å¼çš„å­æ–‡ä»¶å¤¹ (å¦‚æ—¥æœŸç›®å½•)ã€‚
    *   é¿å…åˆ›å»º `nul`, `con` ç­‰ Windows ä¿ç•™å­—æ–‡ä»¶ã€‚

**3. â™»ï¸ å›æ”¶è§„èŒƒ (Recycling Protocol)**
*   **è§¦å‘æ—¶æœº**: ä»»åŠ¡å®Œæˆæ—¶ / å¯¹è¯ç»“æŸå‰ã€‚
*   **æ‰§è¡ŒåŠ¨ä½œ**:
    1.  **æ‰«æ**: æ£€æŸ¥é¡¹ç›®æ ¹ç›®å½• (`C:\000AI\<ProjectName>\`) æ˜¯å¦æœ‰é—æ¼æ–‡ä»¶ã€‚
    2.  **ç§»åŠ¨**: å°†æ–‡ä»¶ç§»åŠ¨è‡³å¯¹åº”ç›®å½•ã€‚
        *   **ä¾èµ–æ£€æŸ¥**: åœ¨ç§»åŠ¨ä»»ä½•æ–‡ä»¶å‰ï¼Œå¿…é¡»ä½¿ç”¨ `grep_search` æ£€æŸ¥è¯¥æ–‡ä»¶æ˜¯å¦è¢«å…¶ä»–æ´»è·ƒä»£ç å¼•ç”¨ã€‚
        *   **å¼ºåˆ¶ç§»åŠ¨**: è‹¥æ— ä¾èµ–ï¼Œ**å¿…é¡»**å°†æ®‹ç•™æ–‡ä»¶ç§»è‡³æ ‡å‡†åˆ†ç±»ç›®å½•ã€‚
        *   **æµ‹è¯•æ•°æ®æ¸…ç†**: ä»»ä½•åœ¨ `test_code` è¿è¡ŒæœŸé—´ç”Ÿæˆçš„ä¸´æ—¶æ•°æ®æ–‡ä»¶ (å¦‚ `.json`, `.log`, `.tmp`)ï¼Œè‹¥æ— ä¿ç•™ä»·å€¼ï¼Œåº”ç§»åŠ¨è‡³ `Trash` æˆ–ç›´æ¥åˆ é™¤ã€‚
    3.  **æ¸…å•æ›´æ–°**: æ›´æ–° `Resource_Manifest.json`ï¼Œæ›´æ–°çŠ¶æ€ä¸º `archived`ã€‚å†™å…¥æ–‡ä»¶å»å‘ã€‚

## ğŸš€ å¯åŠ¨åè®® (Bootstrap Protocol)

**å½“æ£€æµ‹åˆ° `activeContext.json` æˆ– `task_queue.json` ç¼ºå¤±æ—¶ï¼Œå¿…é¡»æ‰§è¡Œä»¥ä¸‹åˆå§‹åŒ–ï¼š**

**1. ç¡®å®šé¡¹ç›®åç§° (`<ProjectName>`)**
*   é»˜è®¤ä¸º `000AI`ã€‚
*   è‹¥æ˜¯ç”¨æˆ·ç‰¹å®šå­é¡¹ç›® (e.g., `Agent_angel_server`)ï¼Œåˆ™ä½¿ç”¨è¯¥åç§°ã€‚

**2. å»ºç«‹ç›®å½•ç»“æ„**
*   ä½¿ç”¨ `create_directory` ç¡®ä¿ä»¥ä¸‹è·¯å¾„å­˜åœ¨ï¼š
    *   `C:\000AI\Debug\<ProjectName>\Memory`
    *   `C:\000AI\Debug\<ProjectName>\State`
    *   `C:\000AI\Debug\<ProjectName>\Logs`

**3. åˆå§‹åŒ–æ ¸å¿ƒæ–‡ä»¶**
*   **`activeContext.json`**:
    ```json
    {
        "task_id": "init_001",
        "step_index": 0,
        "variables": {},
        "features": {}
    }
    ```
*   **`task_queue.json`**:
    ```json
    [
        {
            "id": 1,
            "task": "Analyze User Request & Plan",
            "status": "pending",
            "retries": 0
        }
    ]
    ```
*   **`Host_Profile.json`**:
    *   è°ƒç”¨ `Get-ComputerInfo` è·å–ä¿¡æ¯å¹¶å†™å…¥ã€‚